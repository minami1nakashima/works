<template>
  <div>
    <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
    <p
      class="fontStyle"
      :class="SpCheck() ? 'text-subtitle-2 ml-2 mb-3' : 'text-h6 my-7 ml-5'"
    >
      éŸ“å›½èªã®æ—¥å¸¸ä¼šè©±ãƒ•ãƒ¬ãƒ¼ã‚ºé›†
    </p>

    <v-sheet :class="SpCheck() ? 'mx-1' : 'mx-10'">
      <!-- ç¿»è¨³ -->
      <div class="my-10 pa-5 rounded-corners style">
        <p class="fontStyle text-subtitle-1">ã¡ã‚‡ã“ã£ã¨éŸ“å›½èªç¿»è¨³æ©Ÿ</p>
        <v-divider
          :thickness="6"
          color="white"
          class="mb-5 border-opacity-100"
        ></v-divider>
        <v-row>
          <!-- ç¿»è¨³ã™ã‚‹æ—¥æœ¬èª -->
          <v-col>
            <v-textarea
              v-model="korean"
              clearable
              label="ç¿»è¨³ã™ã‚‹å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
              variant="outlined"
              density="compact"
              rows="5"
              bg-color="white"
              color="indigo-darken-4"
            ></v-textarea>
            <!-- ç¿»è¨³é€ä¿¡ãƒœã‚¿ãƒ³ -->
            <v-btn
              color="indigo-darken-4"
              @click="submit"
              class="mt-n5"
              style="float: right"
            >
              ç¿»è¨³ã™ã‚‹
            </v-btn>
          </v-col>
          <!-- ç¿»è¨³ã•ã‚ŒãŸéŸ“å›½èª -->
          <v-col>
            <v-textarea
              :model-value="translation"
              variant="outlined"
              density="compact"
              rows="5"
              bg-color="white"
              color="indigo-darken-4"
              readonly
            ></v-textarea>
          </v-col>
        </v-row>
      </div>

      <div class="bg-grey-lighten-4 px-5 pa-8">
        <v-row>
          <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
          <v-col cols="12">
            <p class="fontStyle">ç°¡å˜ãªå˜èªã‚’å­¦ã‚“ã§ã¿ã‚ˆã†</p>
          </v-col>
          <!-- ãƒ†ã‚­ã‚¹ãƒˆ -->
          <v-col cols="7">
            <p class="textFont mt-4 ml-5" style="line-height: 2">
              ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€ã‚ˆãä½¿ã†éŸ“å›½èªã‚’ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
              <br />
              ç°¡å˜ãªæŒ¨æ‹¶ã‹ã‚‰ã€æ—…è¡Œã§ä½¿ãˆã‚‹ã‚‚ã®ãªã©ãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€
              <br />
              ãœã²éŸ“å›½èªã‚’å°‘ã—ã§ã‚‚ç¿’å¾—ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
              <br />
              éŸ“å›½èªã¯æ—¥æœ¬èªã¨ä¼¼ã¦ã„ã‚‹ã®ã§ã€å˜èªã‚’çµ„ã¿åˆã‚ã›ã‚‹ã ã‘ã§
              <br />
              æ„å‘³ãŒæˆã‚Šç«‹ã¡ã¾ã™ã€‚ ã“ã¾ã£ãŸã‚‰ç¿»è¨³æ©Ÿã‚‚æ´»ç”¨ã—ã¦ãã ã•ã„âœ¨
            </p>
          </v-col>

          <!-- Tips -->
          <v-col>
            <v-card class="pa-5 text-body-2">
              <v-card-title>
                <span class="text-orange mdi mdi-check-decagram-outline"></span>
                Tips
              </v-card-title>
              <v-divider></v-divider>
              <v-card-text class="text-caption">
                ï½ï¼ï½ãªã©ã®ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã¯ã€å”‡ã‚’åˆã‚ã›ã‚‹ã ã‘ã€‚
                <br />
                éŸ³ã‚’ã¤ã¾ã‚€ã‚ˆã†ã«ç™ºéŸ³ã—ã¦ãã ã•ã„ã€‚
                <br />
                ï½ã¯ã€Œã‚“ã€ã§ã™ãŒã€èˆŒã‚’æ­¯ã«æŒŸã‚€ã‚ˆã†ã«ç™ºéŸ³ã™ã‚‹ã¨GOODğŸ‘
                <br />
                ï½‹ã¯ã€Œã£ã€(ã‚¯ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã¦)ã€
                <br />
                ï½’ã¯èˆŒã‚’å£ã®ä¸Šã«ã¤ã‘ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸
              </v-card-text>
            </v-card>
          </v-col>
        </v-row>

        <!-- ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div class="pa-5">
          <v-row>
            <!-- è©³ç´°ãƒ‘ãƒãƒ« -->
            <v-expansion-panels class="my-4">
              <!-- è©³ç´°ãƒ‘ãƒãƒ«ä¸­èº« -->
              <v-expansion-panel
                v-for="item in MannerData.situationItem"
                :key="item.id"
                :color="item.color"
              >
                <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
                <v-expansion-panel-title class="font-weight-black">
                  {{ item.situation }}
                </v-expansion-panel-title>
                <!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
                <v-expansion-panel-text :class="item.bgcolor">
                  <v-row class="pa-2">
                    <v-col
                      cols="6"
                      class="mb-4"
                      v-for="word in item.wordItem"
                      :key="word.wordko"
                    >
                      <p>{{ word.wordko }}</p>
                      <p class="text-caption">{{ word.wordkara }}</p>
                      <v-divider
                        :thickness="3"
                        :color="item.dividerColor"
                        class="border-opacity-100 mb-3"
                      ></v-divider>
                      <p>{{ word.wordja }}</p>
                    </v-col>
                  </v-row>
                </v-expansion-panel-text>
              </v-expansion-panel>
            </v-expansion-panels>
          </v-row>
        </div>
      </div>
    </v-sheet>
  </div>
</template>

<script>
  import axios from "axios";
  import MannerData from "./data/WordData";

  export default {
    name: "MannerComp",
    data() {
      return {
        MannerData,
        korean: "", //ç¿»è¨³ã™ã‚‹æ—¥æœ¬èª
        translation: "", //ç¿»è¨³ã•ã‚ŒãŸéŸ“å›½èª
        authKey: "b04a55fe-e123-414e-9633-43719b64f6e0:fx",
      };
    },
    methods: {
      // ç¿»è¨³å‡¦ç†
      async submit() {
        try {
          const response = await axios.post(
            "https://api-free.deepl.com/v2/translate",
            null,
            {
              params: {
                auth_key: this.authKey,
                text: this.korean,
                target_lang: "KO",
              },
              headers: {
                "Content-Type": "application/x-www-form-urlencoded",
              },
            },
          );
          this.translation = response.data.translations[0].text;
        } catch (error) {
          console.error("ç¿»è¨³ã‚¨ãƒ©ãƒ¼:", error);
        }
      },
      // SPç”»é¢åˆ‡ã‚Šæ›¿ãˆ
      SpCheck() {
        return this.$vuetify.display.smAndDown;
      },
    },
  };
</script>

<style>
  .rounded-corners {
    border-radius: 10px;
  }

  .style {
    border: 2px solid #00366c;
    height: 280px;
  }
</style>
